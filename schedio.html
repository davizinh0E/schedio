<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1b2e3c">
    <meta name="description" content="A modern calendar app to manage your tasks and events">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Schedio">
    <title>Schedio - Modern Calendar</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: white;
        }

        .bg-light {
            background-color: #eae8dc;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        .glass-effect {
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.7);
        }

        .event-card {
            transition: all 0.2s ease;
        }

        .event-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Icon Components
        const Icon = ({ children, size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Calendar = ({ size, className }) => (
            <Icon size={size} className={className}>
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </Icon>
        );

        const Plus = ({ size, className }) => (
            <Icon size={size} className={className}>
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </Icon>
        );

        const Bell = ({ size, className }) => (
            <Icon size={size} className={className}>
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
            </Icon>
        );

        const CheckCircle = ({ size, className }) => (
            <Icon size={size} className={className}>
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </Icon>
        );

        const Circle = ({ size, className }) => (
            <Icon size={size} className={className}>
                <circle cx="12" cy="12" r="10"></circle>
            </Icon>
        );

        const Home = ({ size, className }) => (
            <Icon size={size} className={className}>
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </Icon>
        );

        const BarChart3 = ({ size, className }) => (
            <Icon size={size} className={className}>
                <line x1="12" y1="20" x2="12" y2="10"></line>
                <line x1="18" y1="20" x2="18" y2="4"></line>
                <line x1="6" y1="20" x2="6" y2="16"></line>
            </Icon>
        );

        const Settings = ({ size, className }) => (
            <Icon size={size} className={className}>
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
            </Icon>
        );

        const ChevronLeft = ({ size, className }) => (
            <Icon size={size} className={className}>
                <polyline points="15 18 9 12 15 6"></polyline>
            </Icon>
        );

        const ChevronRight = ({ size, className }) => (
            <Icon size={size} className={className}>
                <polyline points="9 18 15 12 9 6"></polyline>
            </Icon>
        );

        const Lock = ({ size, className }) => (
            <Icon size={size} className={className}>
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
            </Icon>
        );

        const User = ({ size, className }) => (
            <Icon size={size} className={className}>
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </Icon>
        );

        const SchedioPrototypes = () => {
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [currentScreen, setCurrentScreen] = useState('home');
            const [viewMode, setViewMode] = useState('today'); // 'today' or 'calendar'
            const [currentMonth, setCurrentMonth] = useState('DEC');
            const [selectedMonth, setSelectedMonth] = useState(null); // null = year view, number = month detail view
            const [selectedDate, setSelectedDate] = useState(null);
            const [darkMode, setDarkMode] = useState(() => {
                const saved = localStorage.getItem('darkMode');
                return saved ? JSON.parse(saved) : false;
            });
            const [events, setEvents] = useState({
                '2024-12-13': [{ title: 'Team Meeting', time: '3:00 PM', color: 'bg-gradient-to-br from-amber-200 to-amber-300' }],
                '2024-12-14': [
                    { title: 'Proj Update', time: '9:00 AM', color: 'bg-gradient-to-br from-rose-200 to-rose-300' },
                    { title: 'Meeting', time: '10:00 AM', color: 'bg-gradient-to-br from-rose-200 to-rose-300' }
                ],
                '2024-12-15': [{ title: 'Web Update', time: '2:00 PM', color: 'bg-gradient-to-br from-teal-200 to-teal-300' }]
            });

            // Save dark mode preference
            React.useEffect(() => {
                localStorage.setItem('darkMode', JSON.stringify(darkMode));
            }, [darkMode]);

            const toggleDarkMode = () => {
                setDarkMode(!darkMode);
            };

            const categories = [
                { name: 'SaÃºde', color: 'bg-emerald-400', bgCard: 'bg-emerald-50', border: 'border-emerald-200' },
                { name: 'Estudos', color: 'bg-blue-400', bgCard: 'bg-blue-50', border: 'border-blue-200' },
                { name: 'Trabalho', color: 'bg-purple-400', bgCard: 'bg-purple-50', border: 'border-purple-200' },
                { name: 'Pessoal', color: 'bg-amber-400', bgCard: 'bg-amber-50', border: 'border-amber-200' }
            ];

            const meetings = [
                {
                    title: 'Team Meeting',
                    startTime: '3:00 PM',
                    endTime: '3:30 PM',
                    duration: '30 Min',
                    category: 'Trabalho',
                    avatars: ['ðŸ‘¤', 'ðŸ‘¤'],
                    color: 'bg-gradient-to-br from-amber-200 to-amber-300'
                },
                {
                    title: 'Review Session',
                    startTime: '4:20 PM',
                    endTime: '4:45 PM',
                    duration: '25 Min',
                    category: 'Estudos',
                    avatars: ['ðŸ‘¤', 'ðŸ‘¤', 'ðŸ‘¤'],
                    color: 'bg-gradient-to-br from-slate-300 to-slate-400'
                },
                {
                    title: 'Gym Workout',
                    startTime: '6:00 PM',
                    endTime: '7:00 PM',
                    duration: '60 Min',
                    category: 'SaÃºde',
                    avatars: ['ðŸ‘¤'],
                    color: 'bg-gradient-to-br from-rose-200 to-rose-300'
                }
            ];

            const weekSchedule = [
                {
                    day: 'Tuesday',
                    date: '13',
                    month: 'DEC',
                    color: 'from-purple-200 to-purple-300',
                    events: [
                        { time: '3 pm', title: 'Meeting', duration: '1h' }
                    ]
                },
                {
                    day: 'Wednesday',
                    date: '14',
                    month: 'DEC',
                    color: 'from-rose-200 to-rose-300',
                    events: [
                        { time: '9 am', title: 'Proj Update', duration: '30m' },
                        { time: '10 am', title: 'Meeting', duration: '1h' }
                    ]
                },
                {
                    day: 'Thursday',
                    date: '15',
                    month: 'DEC',
                    color: 'from-teal-200 to-teal-300',
                    events: [
                        { time: '2 pm', title: 'Web Update', duration: '1h' }
                    ]
                }
            ];

            const getCategoryColor = (category) => {
                const cat = categories.find(c => c.name === category);
                return cat ? cat.color : 'bg-gray-500';
            };

            const HomeScreen = () => (
                <div className={`flex flex-col h-full ${darkMode ? 'bg-gray-900' : 'bg-light'}`}>
                    {/* Header with view toggle */}
                    <div className="p-6 pb-4">
                        <div className="flex items-center justify-between mb-6">
                            <div className="flex gap-2">
                                <button
                                    onClick={() => setViewMode('today')}
                                    className={`px-5 py-2 rounded-full text-sm font-semibold transition ${viewMode === 'today'
                                        ? (darkMode ? 'bg-white text-black' : 'bg-black text-white')
                                        : (darkMode ? 'bg-gray-800 text-gray-300 border border-gray-700' : 'bg-white text-gray-700 border border-gray-200')
                                        }`}
                                >
                                    Today
                                </button>
                                <button
                                    onClick={() => setViewMode('calendar')}
                                    className={`px-5 py-2 rounded-full text-sm font-semibold transition ${viewMode === 'calendar'
                                        ? (darkMode ? 'bg-white text-black' : 'bg-black text-white')
                                        : (darkMode ? 'bg-gray-800 text-gray-300 border border-gray-700' : 'bg-white text-gray-700 border border-gray-200')
                                        }`}
                                >
                                    Calendar
                                </button>
                            </div>
                            <button className={`w-10 h-10 rounded-full flex items-center justify-center ${darkMode ? 'bg-gray-800 text-white' : 'bg-gray-200 text-gray-900'}`}>
                                <Plus size={20} />
                            </button>
                        </div>
                    </div>

                    {viewMode === 'today' ? (
                        <div className="flex-1 overflow-y-auto px-6 animate-fade-in">
                            {/* Large Date Display */}
                            <div className="mb-6">
                                <div className={`text-sm mb-2 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Tuesday</div>
                                <div className="flex items-start gap-6">
                                    <div>
                                        <div className={`text-7xl font-bold leading-none mb-2 ${darkMode ? 'text-white' : 'text-gray-900'}`}>13.12</div>
                                        <div className={`text-4xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>DEC</div>
                                    </div>
                                    <div className="flex flex-col gap-3 mt-2">
                                        <div className="text-right">
                                            <div className={`text-2xl font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>1:20 PM</div>
                                            <div className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>New York</div>
                                        </div>
                                        <div className="text-right">
                                            <div className={`text-2xl font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>6:20 PM</div>
                                            <div className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>United Kingdom</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Tasks Section */}
                            <div className="mb-4">
                                <div className="flex items-center justify-between mb-3">
                                    <h3 className={`text-lg font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>Todays tasks</h3>
                                    <button className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Reminders</button>
                                </div>

                                <div className="space-y-3">
                                    {meetings.map((meeting, idx) => (
                                        <div key={idx} className={`${meeting.color} rounded-3xl p-4 event-card shadow-sm`}>
                                            <div className="flex items-start justify-between mb-3">
                                                <div className="flex-1">
                                                    <h4 className="text-lg font-bold text-gray-800 mb-1">{meeting.title}</h4>
                                                </div>
                                                <div className="flex -space-x-2">
                                                    {meeting.avatars.map((avatar, i) => (
                                                        <div key={i} className="w-8 h-8 rounded-full bg-white border-2 border-white flex items-center justify-center text-sm">
                                                            {avatar}
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                            <div className="flex items-center justify-between">
                                                <div className="flex items-center gap-3">
                                                    <div>
                                                        <div className="text-xs text-gray-600 mb-0.5">Start</div>
                                                        <div className="text-sm font-bold text-gray-900">{meeting.startTime}</div>
                                                    </div>
                                                    <div className="px-3 py-1 bg-gray-900 text-white rounded-full text-xs font-semibold">
                                                        {meeting.duration}
                                                    </div>
                                                    <div>
                                                        <div className="text-xs text-gray-600 mb-0.5">End</div>
                                                        <div className="text-sm font-bold text-gray-900">{meeting.endTime}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    ) : (
                        <div className="flex-1 overflow-y-auto px-6 animate-fade-in">
                            {/* Calendar Month Navigation */}
                            <div className="flex items-center justify-between mb-6">
                                <button className="text-gray-400"><ChevronLeft size={24} /></button>
                                <div className="flex items-center gap-4 text-sm font-semibold text-gray-400">
                                    <span>NOV</span>
                                    <span className="text-2xl text-gray-900">{currentMonth}</span>
                                    <span>JAN</span>
                                </div>
                                <button className="text-gray-400"><ChevronRight size={24} /></button>
                            </div>

                            {/* Week Schedule Cards */}
                            <div className="space-y-3 pb-6">
                                {weekSchedule.map((day, idx) => (
                                    <div key={idx} className={`bg-gradient-to-br ${day.color} rounded-3xl p-5 event-card shadow-sm`}>
                                        <div className="flex items-start justify-between mb-4">
                                            <div>
                                                <div className="text-sm text-gray-700 mb-1">{day.day}</div>
                                                <div className="flex items-end gap-2">
                                                    <div className="text-5xl font-bold text-gray-900">{day.date}</div>
                                                    <div className="text-2xl font-bold text-gray-900 mb-1">{day.month}</div>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="flex items-center gap-3">
                                            {['9 am', '10 am', '11 am', '3 pm', '4 pm', '5 pm'].map((time, i) => (
                                                <div key={i} className="flex-1">
                                                    <div className="text-xs text-gray-600 mb-2">{time}</div>
                                                    {day.events.some(e => e.time === time) ? (
                                                        <div className="bg-gray-900 text-white rounded-xl p-2 text-xs font-semibold text-center">
                                                            {day.events.find(e => e.time === time).title}
                                                        </div>
                                                    ) : (
                                                        <button className="w-full h-8 rounded-xl border-2 border-dashed border-gray-400 flex items-center justify-center hover:bg-white/30 transition">
                                                            <Plus size={16} className="text-gray-600" />
                                                        </button>
                                                    )}
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}
                </div>
            );

            const CalendarScreen = () => {
                const months = [
                    { name: 'January', shortName: 'JAN', number: 0, color: 'from-green-400 to-green-500', daysInMonth: 31, startDay: 1 },
                    { name: 'February', shortName: 'FEB', number: 1, color: 'from-purple-400 to-purple-500', daysInMonth: 29, startDay: 4 },
                    { name: 'March', shortName: 'MAR', number: 2, color: 'from-red-400 to-red-500', daysInMonth: 31, startDay: 5 },
                    { name: 'April', shortName: 'APR', number: 3, color: 'from-orange-400 to-orange-500', daysInMonth: 30, startDay: 1 },
                    { name: 'May', shortName: 'MAY', number: 4, color: 'from-teal-500 to-teal-600', daysInMonth: 31, startDay: 3 },
                    { name: 'June', shortName: 'JUN', number: 5, color: 'from-cyan-400 to-cyan-500', daysInMonth: 30, startDay: 6 },
                    { name: 'July', shortName: 'JUL', number: 6, color: 'from-blue-600 to-blue-700', daysInMonth: 31, startDay: 1 },
                    { name: 'August', shortName: 'AUG', number: 7, color: 'from-yellow-400 to-yellow-500', daysInMonth: 31, startDay: 4 },
                    { name: 'September', shortName: 'SEP', number: 8, color: 'from-pink-400 to-pink-500', daysInMonth: 30, startDay: 0 },
                    { name: 'October', shortName: 'OCT', number: 9, color: 'from-indigo-400 to-indigo-500', daysInMonth: 31, startDay: 2 },
                    { name: 'November', shortName: 'NOV', number: 10, color: 'from-amber-500 to-amber-600', daysInMonth: 30, startDay: 5 },
                    { name: 'December', shortName: 'DEC', number: 11, color: 'from-emerald-400 to-emerald-500', daysInMonth: 31, startDay: 0 }
                ];

                const generateCalendar = (monthData) => {
                    const days = [];
                    for (let i = 0; i < monthData.startDay; i++) {
                        days.push(null);
                    }
                    for (let i = 1; i <= monthData.daysInMonth; i++) {
                        days.push(i);
                    }
                    return days;
                };

                const currentMonthIndex = new Date().getMonth();

                const handleDayClick = (monthNumber, day) => {
                    const dateStr = `2024-${String(monthNumber + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                    setSelectedDate(dateStr);
                    setCurrentScreen('add');
                };

                // Month detail view
                if (selectedMonth !== null) {
                    const monthData = months[selectedMonth];
                    const calendarDays = generateCalendar(monthData);

                    return (
                        <div className={`flex flex-col h-full animate-fade-in ${darkMode ? 'bg-gray-900' : 'bg-light'}`}>
                            <div className="p-6">
                                <div className="flex items-center justify-between mb-4">
                                    <button
                                        onClick={() => setSelectedMonth(null)}
                                        className={`w-10 h-10 rounded-full flex items-center justify-center shadow-sm ${darkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'}`}
                                    >
                                        <ChevronLeft size={20} />
                                    </button>
                                    <div className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>
                                        {monthData.name} 2024
                                    </div>
                                    <button
                                        onClick={() => {
                                            setSelectedDate(null);
                                            setCurrentScreen('add');
                                        }}
                                        className={`w-10 h-10 rounded-full flex items-center justify-center shadow-sm ${darkMode ? 'bg-white text-gray-900' : 'bg-gray-900 text-white'}`}
                                    >
                                        <Plus size={20} />
                                    </button>
                                </div>
                            </div>

                            <div className="flex-1 overflow-y-auto px-6 pb-6">
                                <div className={`bg-gradient-to-br ${monthData.color} rounded-3xl p-6 shadow-lg`}>
                                    <div className="grid grid-cols-7 gap-3 mb-3">
                                        {['S', 'M', 'T', 'W', 'T', 'F', 'S'].map((day, i) => (
                                            <div key={i} className="text-center text-sm font-bold text-white/80">
                                                {day}
                                            </div>
                                        ))}
                                    </div>
                                    <div className="grid grid-cols-7 gap-3">
                                        {calendarDays.map((date, i) => {
                                            const dateStr = date ? `2024-${String(monthData.number + 1).padStart(2, '0')}-${String(date).padStart(2, '0')}` : null;
                                            const hasEvents = dateStr && events[dateStr];
                                            const today = new Date();
                                            const isToday = date === today.getDate() && monthData.number === today.getMonth();

                                            return (
                                                <div key={i} className="aspect-square">
                                                    {date ? (
                                                        <button
                                                            onClick={() => handleDayClick(monthData.number, date)}
                                                            className={`w-full h-full rounded-2xl flex flex-col items-center justify-center text-base font-bold transition ${isToday
                                                                ? 'bg-white text-gray-900 shadow-lg'
                                                                : 'bg-white/20 text-white hover:bg-white/40'
                                                                }`}
                                                        >
                                                            {date}
                                                            {hasEvents && (
                                                                <div className="flex gap-0.5 mt-1">
                                                                    {events[dateStr].slice(0, 3).map((_, idx) => (
                                                                        <div key={idx} className={`w-1 h-1 rounded-full ${isToday ? 'bg-gray-900' : 'bg-white'}`}></div>
                                                                    ))}
                                                                </div>
                                                            )}
                                                        </button>
                                                    ) : <div></div>}
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>

                                {/* Events for selected month */}
                                <div className="mt-6">
                                    <h3 className={`text-lg font-bold mb-3 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Events this month</h3>
                                    <div className="space-y-3">
                                        {Object.keys(events)
                                            .filter(dateStr => dateStr.startsWith(`2024-${String(monthData.number + 1).padStart(2, '0')}`))
                                            .sort()
                                            .map(dateStr => {
                                                const day = parseInt(dateStr.split('-')[2]);
                                                return events[dateStr].map((event, idx) => (
                                                    <div key={`${dateStr}-${idx}`} className={`${event.color} rounded-2xl p-4 shadow-sm`}>
                                                        <div className="flex items-center justify-between">
                                                            <div>
                                                                <div className="text-sm font-semibold text-gray-600 mb-1">
                                                                    {monthData.name} {day}
                                                                </div>
                                                                <div className="font-bold text-gray-900">{event.title}</div>
                                                                <div className="text-sm text-gray-700 mt-1">{event.time}</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                ));
                                            })}
                                        {Object.keys(events).filter(dateStr =>
                                            dateStr.startsWith(`2024-${String(monthData.number + 1).padStart(2, '0')}`)
                                        ).length === 0 && (
                                                <div className={`text-center py-8 ${darkMode ? 'text-gray-500' : 'text-gray-400'}`}>
                                                    No events this month
                                                </div>
                                            )}
                                    </div>
                                </div>
                            </div>
                        </div>
                    );
                }

                // Year overview
                return (
                    <div className={`flex flex-col h-full ${darkMode ? 'bg-gray-900' : 'bg-light'}`}>
                        <div className="p-6">
                            <div className="flex items-center justify-between mb-4">
                                <div className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>
                                    2024
                                </div>
                                <button
                                    onClick={() => setCurrentScreen('add')}
                                    className={`w-10 h-10 rounded-full flex items-center justify-center shadow-sm ${darkMode ? 'bg-white text-gray-900' : 'bg-gray-900 text-white'}`}
                                >
                                    <Plus size={20} />
                                </button>
                            </div>
                        </div>

                        <div className="flex-1 overflow-y-auto px-4 pb-6">
                            <div className="grid grid-cols-2 gap-4">
                                {months.map((month) => {
                                    const isCurrent = month.number === currentMonthIndex;
                                    const monthEvents = Object.keys(events).filter(dateStr =>
                                        dateStr.startsWith(`2024-${String(month.number + 1).padStart(2, '0')}`)
                                    ).length;

                                    return (
                                        <button
                                            key={month.number}
                                            onClick={() => setSelectedMonth(month.number)}
                                            className={`bg-gradient-to-br ${month.color} rounded-3xl p-4 shadow-md event-card ${isCurrent ? 'ring-4 ring-gray-900' : ''}`}
                                        >
                                            <div className="text-center mb-3">
                                                <h3 className="text-white font-bold text-lg mb-0.5">{month.name.toUpperCase()}</h3>
                                                {monthEvents > 0 && (
                                                    <div className="text-white/80 text-xs font-semibold">{monthEvents} event{monthEvents !== 1 ? 's' : ''}</div>
                                                )}
                                            </div>

                                            <div className="bg-white/20 backdrop-blur-sm rounded-2xl p-3">
                                                <div className="grid grid-cols-7 gap-1 mb-2">
                                                    {['S', 'M', 'T', 'W', 'T', 'F', 'S'].map((day, i) => (
                                                        <div key={i} className="text-center text-[8px] font-bold text-white/70">
                                                            {day}
                                                        </div>
                                                    ))}
                                                </div>
                                                <div className="grid grid-cols-7 gap-1">
                                                    {generateCalendar(month).map((date, i) => {
                                                        const dateStr = date ? `2024-${String(month.number + 1).padStart(2, '0')}-${String(date).padStart(2, '0')}` : null;
                                                        const hasEvents = dateStr && events[dateStr];
                                                        const today = new Date();
                                                        const isToday = date === today.getDate() && month.number === today.getMonth();

                                                        return (
                                                            <div key={i} className="aspect-square flex items-center justify-center">
                                                                {date && (
                                                                    <div className={`text-[10px] font-semibold relative ${isToday
                                                                        ? 'bg-white text-gray-900 rounded-full w-5 h-5 flex items-center justify-center'
                                                                        : 'text-white'
                                                                        }`}>
                                                                        {date}
                                                                        {hasEvents && !isToday && (
                                                                            <div className="absolute -bottom-0.5 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full"></div>
                                                                        )}
                                                                    </div>
                                                                )}
                                                            </div>
                                                        );
                                                    })}
                                                </div>
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                );
            };

            const AddTaskScreen = () => {
                const [eventTitle, setEventTitle] = useState('');
                const [eventTime, setEventTime] = useState('');
                const [selectedColor, setSelectedColor] = useState(0);
                const [selectedCategory, setSelectedCategory] = useState(0);
                const [eventDescription, setEventDescription] = useState('');

                const colorThemes = [
                    'bg-gradient-to-br from-amber-200 to-amber-300',
                    'bg-gradient-to-br from-slate-300 to-slate-400',
                    'bg-gradient-to-br from-rose-200 to-rose-300',
                    'bg-gradient-to-br from-purple-200 to-purple-300',
                    'bg-gradient-to-br from-teal-200 to-teal-300'
                ];

                const handleCreateEvent = () => {
                    if (!eventTitle || !eventTime) {
                        alert('Please fill in event title and time');
                        return;
                    }

                    const dateToUse = selectedDate || new Date().toISOString().split('T')[0];
                    const newEvent = {
                        title: eventTitle,
                        time: eventTime,
                        color: colorThemes[selectedColor],
                        category: categories[selectedCategory].name
                    };

                    setEvents(prev => ({
                        ...prev,
                        [dateToUse]: [...(prev[dateToUse] || []), newEvent]
                    }));

                    // Reset form
                    setEventTitle('');
                    setEventTime('');
                    setEventDescription('');
                    setSelectedColor(0);
                    setSelectedCategory(0);
                    setSelectedDate(null);
                    setCurrentScreen('calendar');
                };

                return (
                    <div className={`flex flex-col h-full ${darkMode ? 'bg-gray-900' : 'bg-light'}`}>
                        <div className="p-6 pb-4">
                            <div className="flex items-center gap-3 mb-6">
                                <button
                                    onClick={() => {
                                        setSelectedDate(null);
                                        setCurrentScreen(currentScreen === 'add' ? 'home' : 'calendar');
                                    }}
                                    className={`w-10 h-10 rounded-full flex items-center justify-center shadow-sm ${darkMode ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'}`}
                                >
                                    <ChevronLeft size={20} />
                                </button>
                                <h1 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>New Event</h1>
                            </div>
                            {selectedDate && (
                                <div className={`rounded-2xl p-3 text-sm font-semibold ${darkMode ? 'bg-blue-900/30 border border-blue-700 text-blue-300' : 'bg-blue-50 border border-blue-200 text-blue-900'}`}>
                                    ðŸ“… {new Date(selectedDate + 'T00:00:00').toLocaleDateString('en-US', {
                                        weekday: 'long',
                                        year: 'numeric',
                                        month: 'long',
                                        day: 'numeric'
                                    })}
                                </div>
                            )}
                        </div>

                        <div className="flex-1 p-6 pt-0 overflow-y-auto">
                            <div className="space-y-4">
                                <div>
                                    <label className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Event Title</label>
                                    <input
                                        type="text"
                                        placeholder="Team Meeting"
                                        value={eventTitle}
                                        onChange={(e) => setEventTitle(e.target.value)}
                                        className={`w-full px-4 py-3 border rounded-2xl focus:outline-none focus:ring-2 ${darkMode
                                            ? 'bg-gray-800 border-gray-700 text-white placeholder-gray-500 focus:border-white focus:ring-gray-700'
                                            : 'bg-white border-gray-200 text-gray-900 focus:border-gray-900 focus:ring-gray-200'
                                            }`}
                                    />
                                </div>

                                <div className="grid grid-cols-2 gap-3">
                                    <div>
                                        <label className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Date</label>
                                        <input
                                            type="date"
                                            value={selectedDate || ''}
                                            onChange={(e) => setSelectedDate(e.target.value)}
                                            className={`w-full px-4 py-3 border rounded-2xl focus:outline-none ${darkMode
                                                ? 'bg-gray-800 border-gray-700 text-white focus:border-white'
                                                : 'bg-white border-gray-200 text-gray-900 focus:border-gray-900'
                                                }`}
                                        />
                                    </div>
                                    <div>
                                        <label className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Time</label>
                                        <input
                                            type="time"
                                            value={eventTime}
                                            onChange={(e) => setEventTime(e.target.value)}
                                            className={`w-full px-4 py-3 border rounded-2xl focus:outline-none ${darkMode
                                                ? 'bg-gray-800 border-gray-700 text-white focus:border-white'
                                                : 'bg-white border-gray-200 text-gray-900 focus:border-gray-900'
                                                }`}
                                        />
                                    </div>
                                </div>

                                <div>
                                    <label className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Category</label>
                                    <div className="grid grid-cols-2 gap-2">
                                        {categories.map((cat, idx) => (
                                            <button
                                                key={idx}
                                                onClick={() => setSelectedCategory(idx)}
                                                className={`${cat.color} text-white rounded-2xl p-3 font-semibold shadow-sm hover:scale-105 transition ${selectedCategory === idx ? (darkMode ? 'ring-4 ring-white' : 'ring-4 ring-gray-900') : ''
                                                    }`}
                                            >
                                                {cat.name}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                <div>
                                    <label className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Color Theme</label>
                                    <div className="flex gap-2">
                                        {colorThemes.map((color, idx) => (
                                            <button
                                                key={idx}
                                                onClick={() => setSelectedColor(idx)}
                                                className={`${color} w-12 h-12 rounded-full shadow-md hover:scale-110 transition ${selectedColor === idx ? (darkMode ? 'ring-4 ring-white' : 'ring-4 ring-gray-900') : ''}`}
                                            ></button>
                                        ))}
                                    </div>
                                </div>

                                <div>
                                    <label className={`block text-sm font-semibold mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Description</label>
                                    <textarea
                                        placeholder="Add details about this event..."
                                        rows="4"
                                        value={eventDescription}
                                        onChange={(e) => setEventDescription(e.target.value)}
                                        className={`w-full px-4 py-3 border rounded-2xl focus:outline-none resize-none ${darkMode
                                            ? 'bg-gray-800 border-gray-700 text-white placeholder-gray-500 focus:border-white'
                                            : 'bg-white border-gray-200 text-gray-900 focus:border-gray-900'
                                            }`}
                                    ></textarea>
                                </div>

                                <div className={`flex items-center justify-between rounded-2xl p-4 border ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>
                                    <div className="flex items-center gap-3">
                                        <Bell className={darkMode ? 'text-gray-300' : 'text-gray-700'} size={20} />
                                        <span className={`text-sm font-semibold ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Reminder</span>
                                    </div>
                                    <label className="relative inline-block w-12 h-6">
                                        <input type="checkbox" defaultChecked className="opacity-0 w-0 h-0 peer" />
                                        <span className={`absolute cursor-pointer inset-0 rounded-full transition ${darkMode ? 'peer-checked:bg-white bg-gray-700' : 'bg-gray-300 peer-checked:bg-gray-900'}`}></span>
                                        <span className="absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition peer-checked:translate-x-6"></span>
                                    </label>
                                </div>

                                <button
                                    onClick={handleCreateEvent}
                                    className={`w-full py-4 rounded-2xl font-bold shadow-lg transition mt-6 ${darkMode
                                        ? 'bg-white text-gray-900 hover:bg-gray-100'
                                        : 'bg-gray-900 text-white hover:bg-gray-800'
                                        }`}
                                >
                                    Create Event
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };

            const StatsScreen = () => (
                <div className={`flex flex-col h-full ${darkMode ? 'bg-gray-900' : 'bg-light'}`}>
                    <div className="p-6">
                        <h1 className={`text-3xl font-bold mb-1 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Statistics</h1>
                        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Your weekly progress</p>
                    </div>

                    <div className="flex-1 p-6 pt-0 overflow-y-auto">
                        <div className="grid grid-cols-2 gap-3 mb-6">
                            <div className={`rounded-3xl p-5 shadow-sm border ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`}>
                                <p className={`text-sm mb-2 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Current Streak</p>
                                <p className={`text-4xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>7</p>
                                <p className={`text-xs mt-1 ${darkMode ? 'text-gray-500' : 'text-gray-400'}`}>days</p>
                            </div>
                            <div className={`rounded-3xl p-5 shadow-sm border ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`}>
                                <p className={`text-sm mb-2 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Completion</p>
                                <p className={`text-4xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>85%</p>
                                <p className={`text-xs mt-1 ${darkMode ? 'text-gray-500' : 'text-gray-400'}`}>this week</p>
                            </div>
                        </div>

                        <div className={`rounded-3xl p-5 shadow-sm border mb-6 ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`}>
                            <h3 className={`font-bold mb-5 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Weekly Activity</h3>
                            <div className="flex items-end justify-between h-40 gap-3">
                                {['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'].map((day, idx) => (
                                    <div key={idx} className="flex-1 flex flex-col items-center gap-3">
                                        <div className={`w-full rounded-t-2xl ${darkMode ? 'bg-white' : 'bg-gray-900'}`} style={{ height: `${[60, 80, 95, 70, 85, 50, 40][idx]}%` }}></div>
                                        <span className={`text-xs font-semibold ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>{day}</span>
                                    </div>
                                ))}
                            </div>
                        </div>

                        <div className={`rounded-3xl p-5 shadow-sm border ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`}>
                            <h3 className={`font-bold mb-4 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Tasks by Category</h3>
                            <div className="space-y-4">
                                {categories.map((cat, idx) => (
                                    <div key={idx}>
                                        <div className="flex items-center justify-between mb-2">
                                            <div className="flex items-center gap-2">
                                                <div className={`w-3 h-3 rounded-full ${cat.color}`}></div>
                                                <span className={`text-sm font-semibold ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>{cat.name}</span>
                                            </div>
                                            <span className={`text-sm font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>{[12, 18, 8, 15][idx]}</span>
                                        </div>
                                        <div className={`w-full rounded-full h-2.5 ${darkMode ? 'bg-gray-700' : 'bg-gray-100'}`}>
                                            <div className={`${cat.color} rounded-full h-2.5`} style={{ width: `${[60, 90, 40, 75][idx]}%` }}></div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );

            const ConfigScreen = () => (
                <div className={`flex flex-col h-full ${darkMode ? 'bg-gray-900' : 'bg-light'}`}>
                    <div className="p-6">
                        <h1 className={`text-3xl font-bold mb-1 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Settings</h1>
                        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Customize your experience</p>
                    </div>

                    <div className="flex-1 p-6 pt-0 overflow-y-auto">
                        <div className={`rounded-3xl shadow-sm mb-4 ${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-100'}`}>
                            <div className={`p-5 border-b ${darkMode ? 'border-gray-700' : 'border-gray-100'}`}>
                                <h3 className={`font-bold mb-1 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Profile</h3>
                                <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Account information</p>
                            </div>
                            <div className="p-5">
                                <div className="flex items-center gap-4">
                                    <div className={`w-16 h-16 rounded-full flex items-center justify-center font-bold text-xl ${darkMode ? 'bg-white text-gray-900' : 'bg-gray-900 text-white'}`}>
                                        U
                                    </div>
                                    <div className="flex-1">
                                        <p className={`font-bold text-lg ${darkMode ? 'text-white' : 'text-gray-900'}`}>User Name</p>
                                        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>user@email.com</p>
                                    </div>
                                    <button className={darkMode ? 'text-gray-500' : 'text-gray-400'}>
                                        <ChevronRight size={20} />
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div className={`rounded-3xl shadow-sm mb-4 ${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-100'}`}>
                            <div className={`p-5 border-b ${darkMode ? 'border-gray-700' : 'border-gray-100'}`}>
                                <h3 className={`font-bold mb-1 ${darkMode ? 'text-white' : 'text-gray-900'}`}>Preferences</h3>
                            </div>
                            <div className="p-5 space-y-5">
                                <div className="flex items-center justify-between">
                                    <div>
                                        <p className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>Notifications</p>
                                        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Receive reminders</p>
                                    </div>
                                    <label className="relative inline-block w-12 h-6">
                                        <input type="checkbox" defaultChecked className="opacity-0 w-0 h-0 peer" />
                                        <span className={`absolute cursor-pointer inset-0 rounded-full transition ${darkMode ? 'peer-checked:bg-white bg-gray-700' : 'bg-gray-300 peer-checked:bg-gray-900'}`}></span>
                                        <span className="absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition peer-checked:translate-x-6"></span>
                                    </label>
                                </div>
                                <div className="flex items-center justify-between">
                                    <div>
                                        <p className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>Dark Mode</p>
                                        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Interface theme</p>
                                    </div>
                                    <label className="relative inline-block w-12 h-6">
                                        <input
                                            type="checkbox"
                                            checked={darkMode}
                                            onChange={toggleDarkMode}
                                            className="opacity-0 w-0 h-0 peer"
                                        />
                                        <span className={`absolute cursor-pointer inset-0 rounded-full transition ${darkMode ? 'bg-white' : 'bg-gray-300'}`}></span>
                                        <span className={`absolute top-1 w-4 h-4 rounded-full transition ${darkMode ? 'left-7 bg-gray-900' : 'left-1 bg-white'}`}></span>
                                    </label>
                                </div>
                                <div className="flex items-center justify-between">
                                    <div>
                                        <p className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>Sound Effects</p>
                                        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>Audio feedback</p>
                                    </div>
                                    <label className="relative inline-block w-12 h-6">
                                        <input type="checkbox" defaultChecked className="opacity-0 w-0 h-0 peer" />
                                        <span className={`absolute cursor-pointer inset-0 rounded-full transition ${darkMode ? 'peer-checked:bg-white bg-gray-700' : 'bg-gray-300 peer-checked:bg-gray-900'}`}></span>
                                        <span className="absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition peer-checked:translate-x-6"></span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div className={`rounded-3xl shadow-sm mb-4 ${darkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-100'}`}>
                            <div className={`p-5 border-b ${darkMode ? 'border-gray-700' : 'border-gray-100'}`}>
                                <h3 className={`font-bold mb-1 ${darkMode ? 'text-white' : 'text-gray-900'}`}>About</h3>
                            </div>
                            <div className="p-5 space-y-4">
                                <button className="w-full flex items-center justify-between">
                                    <span className={`font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Version</span>
                                    <span className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>2.0.0</span>
                                </button>
                                <button className="w-full flex items-center justify-between">
                                    <span className={`font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Privacy Policy</span>
                                    <ChevronRight size={20} className={darkMode ? 'text-gray-500' : 'text-gray-400'} />
                                </button>
                                <button className="w-full flex items-center justify-between">
                                    <span className={`font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Terms of Service</span>
                                    <ChevronRight size={20} className={darkMode ? 'text-gray-500' : 'text-gray-400'} />
                                </button>
                            </div>
                        </div>

                        <button
                            onClick={() => setIsLoggedIn(false)}
                            className="w-full bg-red-500 text-white py-4 rounded-3xl font-bold shadow-sm hover:bg-red-600 transition"
                        >
                            Sign Out
                        </button>
                    </div>
                </div>
            );

            const LoginScreen = () => {
                const [username, setUsername] = useState('');
                const [password, setPassword] = useState('');

                const handleLogin = (e) => {
                    e.preventDefault();
                    // Mock login - accepts any username/password
                    if (username && password) {
                        setIsLoggedIn(true);
                    }
                };

                return (
                    <div className="w-full h-screen flex items-center justify-center bg-white">
                        <div className="w-full mx-auto h-screen bg-light rounded-3xl shadow-2xl overflow-hidden flex items-center justify-center animate-fade-in" style={{ maxWidth: '500px' }}>
                            <div className="p-8 w-full">
                                {/* Logo/Header */}
                                <div className="text-center mb-8">
                                    <div className="inline-flex items-center justify-center mb-4">
                                        <svg width="96" height="96" viewBox="0 0 200 200" className="mx-auto rounded-3xl" style={{ background: '#2c4a5f' }}>
                                            {/* Decorative stars */}
                                            <circle cx="60" cy="30" r="1.5" fill="white" opacity="0.8" />
                                            <circle cx="140" cy="35" r="1.5" fill="white" opacity="0.8" />
                                            <circle cx="50" cy="80" r="1" fill="white" opacity="0.6" />
                                            <circle cx="150" cy="75" r="1" fill="white" opacity="0.6" />

                                            {/* Left leaves */}
                                            <path d="M45 130 L40 120 L43 122 L38 115 L41 117 L36 110" stroke="white" strokeWidth="2" fill="none" opacity="0.7" />
                                            <path d="M38 135 L33 125 L36 127 L31 120 L34 122 L29 115" stroke="white" strokeWidth="2" fill="none" opacity="0.6" />

                                            {/* Right leaves */}
                                            <path d="M155 105 L160 95 L157 97 L162 90 L159 92 L164 85" stroke="white" strokeWidth="2" fill="none" opacity="0.7" />
                                            <path d="M162 110 L167 100 L164 102 L169 95 L166 97 L171 90" stroke="white" strokeWidth="2" fill="none" opacity="0.6" />

                                            {/* Toaster body */}
                                            <rect x="60" y="115" width="80" height="50" rx="8" fill="#e8e6e1" />

                                            {/* Toaster slot */}
                                            <rect x="70" y="125" width="60" height="3" rx="1.5" fill="#333" />

                                            {/* Toaster controls */}
                                            <circle cx="70" cy="150" r="3" fill="#333" />
                                            <line x1="75" y1="140" x2="75" y2="160" stroke="#333" strokeWidth="2" />

                                            {/* Paper coming out of toaster */}
                                            <path d="M85 70 L82 95 L118 95 L115 70 Q113 62 107 62 L93 62 Q87 62 85 70z" fill="white" stroke="#333" strokeWidth="1.5" />

                                            {/* Paper header (blue bar) */}
                                            <rect x="84" y="52" width="32" height="8" rx="2" fill="#7ba4d9" />

                                            {/* Paper dots */}
                                            <circle cx="92" cy="56" r="1.5" fill="#ff6b6b" />
                                            <circle cx="100" cy="56" r="1.5" fill="#ffd93d" />
                                            <circle cx="108" cy="56" r="1.5" fill="#51cf66" />

                                            {/* TO DO LIST text */}
                                            <text x="91" y="70" fontSize="8" fontWeight="bold" fill="#333">TO DO</text>
                                            <text x="93" y="80" fontSize="8" fontWeight="bold" fill="#333">LIST</text>

                                            {/* Paper lines */}
                                            <line x1="90" y1="85" x2="110" y2="85" stroke="#333" strokeWidth="1" />
                                            <line x1="90" y1="90" x2="110" y2="90" stroke="#333" strokeWidth="1" />

                                            {/* Pencil */}
                                            <rect x="145" y="140" width="4" height="20" fill="#ffd93d" transform="rotate(-25 147 150)" />
                                            <path d="M144 137 L150 137 L149 141 L145 141 Z" fill="#333" transform="rotate(-25 147 139)" />
                                            <line x1="146" y1="142" x2="155" y2="155" stroke="#333" strokeWidth="1.5" />
                                        </svg>
                                    </div>
                                    <h1 className="text-4xl font-bold text-gray-900 mb-2" style={{ fontFamily: "'Roboto Mono', monospace" }}>Schedio</h1>
                                    <p className="text-gray-500 text-sm">Welcome back! Please login to your account.</p>
                                </div>

                                {/* Login Form */}
                                <form onSubmit={handleLogin} className="space-y-5">
                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">
                                            Username
                                        </label>
                                        <div className="relative">
                                            <div className="absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none">
                                                <User size={20} className="text-gray-400" />
                                            </div>
                                            <input
                                                type="text"
                                                value={username}
                                                onChange={(e) => setUsername(e.target.value)}
                                                placeholder="Enter your username"
                                                className="w-full pl-12 pr-4 py-3.5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-purple-500 focus:bg-white transition text-gray-900 placeholder-gray-400"
                                                required
                                            />
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-semibold text-gray-700 mb-2">
                                            Password
                                        </label>
                                        <div className="relative">
                                            <div className="absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none">
                                                <Lock size={20} className="text-gray-400" />
                                            </div>
                                            <input
                                                type="password"
                                                value={password}
                                                onChange={(e) => setPassword(e.target.value)}
                                                placeholder="Enter your password"
                                                className="w-full pl-12 pr-4 py-3.5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-purple-500 focus:bg-white transition text-gray-900 placeholder-gray-400"
                                                required
                                            />
                                        </div>
                                    </div>

                                    <div className="flex items-center justify-between text-sm">
                                        <label className="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" className="w-4 h-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500" />
                                            <span className="text-gray-600">Remember me</span>
                                        </label>
                                        <button type="button" className="text-purple-600 font-semibold hover:text-purple-700 transition">
                                            Forgot Password?
                                        </button>
                                    </div>

                                    <button
                                        type="submit"
                                        className="w-full py-4 text-white font-bold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200"
                                        style={{ backgroundColor: '#1b2e3c' }}
                                    >
                                        Login
                                    </button>
                                </form>

                                {/* Divider */}
                                <div className="flex items-center gap-4 my-6">
                                    <div className="flex-1 h-px bg-gray-200"></div>
                                    <span className="text-gray-400 text-sm font-medium">OR</span>
                                    <div className="flex-1 h-px bg-gray-200"></div>
                                </div>

                                {/* Social Login Buttons */}
                                <div className="grid grid-cols-2 gap-3">
                                    <button className="py-3 border-2 border-gray-200 rounded-2xl font-semibold text-gray-700 hover:bg-gray-50 transition">
                                        Google
                                    </button>
                                    <button className="py-3 border-2 border-gray-200 rounded-2xl font-semibold text-gray-700 hover:bg-gray-50 transition">
                                        Apple
                                    </button>
                                </div>

                                {/* Sign Up Link */}
                                <p className="text-center text-sm text-gray-600 mt-6">
                                    Don't have an account?{' '}
                                    <button className="text-purple-600 font-semibold hover:text-purple-700 transition">
                                        Sign up
                                    </button>
                                </p>
                            </div>
                        </div>
                    </div>
                );
            };

            const BottomNav = () => (
                <div className={`px-6 py-4 border-t ${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`}>
                    <div className="flex items-center justify-around max-w-md mx-auto">
                        <button
                            onClick={() => {
                                setViewMode('today');
                                setCurrentScreen('home');
                            }}
                            className={`flex flex-col items-center gap-1.5 transition ${currentScreen === 'home' ? (darkMode ? 'text-white' : 'text-gray-900') : (darkMode ? 'text-gray-500' : 'text-gray-400')
                                }`}
                        >
                            <Home size={24} />
                            <span className="text-xs font-semibold">Home</span>
                        </button>
                        <button
                            onClick={() => {
                                setSelectedMonth(null);
                                setCurrentScreen('calendar');
                            }}
                            className={`flex flex-col items-center gap-1.5 transition ${currentScreen === 'calendar' ? (darkMode ? 'text-white' : 'text-gray-900') : (darkMode ? 'text-gray-500' : 'text-gray-400')
                                }`}
                        >
                            <Calendar size={24} />
                            <span className="text-xs font-semibold">Calendar</span>
                        </button>
                        <button
                            onClick={() => {
                                setSelectedDate(null);
                                setCurrentScreen('add');
                            }}
                            className="flex flex-col items-center gap-1.5 text-white"
                        >
                            <div className={`p-3.5 rounded-2xl -mt-6 shadow-lg ${darkMode ? 'bg-white text-gray-900' : 'bg-gray-900'}`}>
                                <Plus size={24} />
                            </div>
                        </button>
                        <button
                            onClick={() => setCurrentScreen('stats')}
                            className={`flex flex-col items-center gap-1.5 transition ${currentScreen === 'stats' ? (darkMode ? 'text-white' : 'text-gray-900') : (darkMode ? 'text-gray-500' : 'text-gray-400')
                                }`}
                        >
                            <BarChart3 size={24} />
                            <span className="text-xs font-semibold">Stats</span>
                        </button>
                        <button
                            onClick={() => setCurrentScreen('config')}
                            className={`flex flex-col items-center gap-1.5 transition ${currentScreen === 'config' ? (darkMode ? 'text-white' : 'text-gray-900') : (darkMode ? 'text-gray-500' : 'text-gray-400')
                                }`}
                        >
                            <Settings size={24} />
                            <span className="text-xs font-semibold">Settings</span>
                        </button>
                    </div>
                </div>
            );

            // Show login screen if not logged in
            if (!isLoggedIn) {
                return <LoginScreen />;
            }

            // Show main app if logged in
            return (
                <div className="w-full h-screen flex items-center justify-center bg-white">
                    <div className={`w-full mx-auto h-screen flex flex-col ${darkMode ? 'bg-gray-900' : 'bg-light'} rounded-3xl shadow-2xl overflow-hidden`} style={{ maxWidth: '500px' }}>
                        <div className="flex-1 overflow-hidden">
                            {currentScreen === 'home' && <HomeScreen />}
                            {currentScreen === 'calendar' && <CalendarScreen />}
                            {currentScreen === 'add' && <AddTaskScreen />}
                            {currentScreen === 'stats' && <StatsScreen />}
                            {currentScreen === 'config' && <ConfigScreen />}
                        </div>
                        <BottomNav />
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SchedioPrototypes />);
    </script>

    <!-- PWA Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then((registration) => {
                        console.log('Service Worker registered successfully:', registration.scope);

                        // Check for updates periodically
                        setInterval(() => {
                            registration.update();
                        }, 60000); // Check every minute
                    })
                    .catch((error) => {
                        console.log('Service Worker registration failed:', error);
                    });
            });

            // Listen for service worker updates
            navigator.serviceWorker.addEventListener('controllerchange', () => {
                console.log('New service worker activated');
            });
        }

        // Add install prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent the mini-infobar from appearing on mobile
            e.preventDefault();
            // Stash the event so it can be triggered later
            deferredPrompt = e;
            console.log('PWA install prompt available');

            // You can show your own install button here
            // For now, we'll just log it
        });

        // Detect if app was launched as PWA
        window.addEventListener('appinstalled', () => {
            console.log('PWA was installed');
            deferredPrompt = null;
        });

        // Check if running as PWA
        if (window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true) {
            console.log('Running as PWA');
        }
    </script>
</body>

</html>